{"ast":null,"code":"import { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/forecast.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"ngx-owl-carousel-o\";\nimport * as i4 from \"../hour-forecast/hour-forecast.component\";\n\nfunction WeekForecastComponent_div_0_ng_container_4_ng_template_1_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n}\n\nfunction WeekForecastComponent_div_0_ng_container_4_ng_template_1_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3, \"\\u2109\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const slide_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", slide_r2.day.maxtemp_f, \"\\u00A0 \");\n  }\n}\n\nfunction WeekForecastComponent_div_0_ng_container_4_ng_template_1_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3, \"\\u2103\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const slide_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", slide_r2.day.maxtemp_c, \"\\u00A0 \");\n  }\n}\n\nfunction WeekForecastComponent_div_0_ng_container_4_ng_template_1_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n}\n\nfunction WeekForecastComponent_div_0_ng_container_4_ng_template_1_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3, \"\\u2109\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const slide_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", slide_r2.day.mintemp_f, \"\\u00A0 \");\n  }\n}\n\nfunction WeekForecastComponent_div_0_ng_container_4_ng_template_1_ng_template_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3, \"\\u2103\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const slide_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", slide_r2.day.mintemp_c, \"\\u00A0 \");\n  }\n}\n\nfunction WeekForecastComponent_div_0_ng_container_4_ng_template_1_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n}\n\nfunction WeekForecastComponent_div_0_ng_container_4_ng_template_1_ng_template_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const slide_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", slide_r2.day.totalprecip_in, \" \");\n  }\n}\n\nfunction WeekForecastComponent_div_0_ng_container_4_ng_template_1_ng_template_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const slide_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", slide_r2.day.totalprecip_mm, \" \");\n  }\n}\n\nfunction WeekForecastComponent_div_0_ng_container_4_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵlistener(\"click\", function WeekForecastComponent_div_0_ng_container_4_ng_template_1_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const slide_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return ctx_r26.updateHourlyData(slide_r2);\n    });\n    i0.ɵɵelementStart(1, \"p\", 7);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 8)(5, \"div\", 9);\n    i0.ɵɵelement(6, \"img\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 11)(8, \"div\", 12);\n    i0.ɵɵtemplate(9, WeekForecastComponent_div_0_ng_container_4_ng_template_1_div_9_Template, 1, 0, \"div\", 13);\n    i0.ɵɵtemplate(10, WeekForecastComponent_div_0_ng_container_4_ng_template_1_ng_template_10_Template, 4, 1, \"ng-template\", null, 14, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtemplate(12, WeekForecastComponent_div_0_ng_container_4_ng_template_1_ng_template_12_Template, 4, 1, \"ng-template\", null, 15, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(14, \"div\", 16);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 17);\n    i0.ɵɵtemplate(17, WeekForecastComponent_div_0_ng_container_4_ng_template_1_div_17_Template, 1, 0, \"div\", 13);\n    i0.ɵɵtemplate(18, WeekForecastComponent_div_0_ng_container_4_ng_template_1_ng_template_18_Template, 4, 1, \"ng-template\", null, 18, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtemplate(20, WeekForecastComponent_div_0_ng_container_4_ng_template_1_ng_template_20_Template, 4, 1, \"ng-template\", null, 19, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(22, \"div\", 20)(23, \"div\", 21)(24, \"span\");\n    i0.ɵɵelement(25, \"img\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(26, WeekForecastComponent_div_0_ng_container_4_ng_template_1_div_26_Template, 1, 0, \"div\", 13);\n    i0.ɵɵtemplate(27, WeekForecastComponent_div_0_ng_container_4_ng_template_1_ng_template_27_Template, 2, 1, \"ng-template\", null, 23, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtemplate(29, WeekForecastComponent_div_0_ng_container_4_ng_template_1_ng_template_29_Template, 2, 1, \"ng-template\", null, 24, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()()()()()();\n  }\n\n  if (rf & 2) {\n    const _r6 = i0.ɵɵreference(11);\n\n    const _r8 = i0.ɵɵreference(13);\n\n    const _r11 = i0.ɵɵreference(19);\n\n    const _r13 = i0.ɵɵreference(21);\n\n    const _r16 = i0.ɵɵreference(28);\n\n    const _r18 = i0.ɵɵreference(30);\n\n    const slide_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(3, 12, slide_r2.date, \"mediumDate\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"src\", slide_r2.day.condition.icon, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.temperatureUnit == \"F\")(\"ngIfThen\", _r6)(\"ngIfElse\", _r8);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", slide_r2.day.condition.text, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.temperatureUnit == \"F\")(\"ngIfThen\", _r11)(\"ngIfElse\", _r13);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.temperatureUnit == \"F\")(\"ngIfThen\", _r16)(\"ngIfElse\", _r18);\n  }\n}\n\nfunction WeekForecastComponent_div_0_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, WeekForecastComponent_div_0_ng_container_4_ng_template_1_Template, 31, 15, \"ng-template\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"width\", 300);\n  }\n}\n\nfunction WeekForecastComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"h6\");\n    i0.ɵɵtext(2, \"3 Day forecast\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"owl-carousel-o\", 2);\n    i0.ɵɵtemplate(4, WeekForecastComponent_div_0_ng_container_4_Template, 2, 1, \"ng-container\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"br\")(6, \"app-hour-forecast\", 4);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"options\", ctx_r0.customOptions);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.forecast);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hourlyData\", ctx_r0.hourlyData)(\"tempUnit\", ctx_r0.tUnit);\n  }\n}\n\nexport let WeekForecastComponent = /*#__PURE__*/(() => {\n  class WeekForecastComponent {\n    constructor(forecastService) {\n      this.forecastService = forecastService;\n      this.showAlert = false;\n      this.alertType = '';\n      this.alertMessage = '';\n      this.currentTemperature = 0;\n      this.iconLink = '';\n      this.location = '';\n      this.condition = '';\n      this.feelsLike = '';\n      this.humidity = '';\n      this.wind = 0;\n      this.pressure = 0;\n      this.visibility = 0;\n      this.latitude = 0;\n      this.longitude = 0;\n      this.flag = false;\n      this.input = [];\n      this.currentLocation = '';\n      this.hourlyData = new Subject();\n      this.tUnit = new Subject();\n      this.temperatureUnit = '';\n      this.customOptions = {\n        loop: false,\n        mouseDrag: false,\n        touchDrag: false,\n        pullDrag: false,\n        dots: true,\n        margin: 50,\n        autoplay: false,\n        lazyLoad: false,\n        navText: ['Previous', 'Next'],\n        responsive: {\n          0: {\n            items: 1\n          },\n          480: {\n            items: 2\n          },\n          940: {\n            items: 3\n          }\n        },\n        nav: false\n      };\n    }\n\n    ngOnInit() {\n      this.searchText.subscribe(v => {\n        this.currentLocation = v;\n        this.input = [this.currentLocation];\n        this.getForecast();\n      });\n      this.tempUnit.subscribe(v => {\n        this.temperatureUnit = v;\n        setTimeout(() => this.tUnit.next(this.temperatureUnit), 0);\n      });\n\n      if (!this.currentLocation && this.currentLocation !== undefined) {\n        navigator.geolocation.getCurrentPosition(position => {\n          // current location coordinates \n          this.latitude = position.coords.latitude;\n          this.longitude = position.coords.longitude;\n          this.input = [this.latitude, this.longitude];\n          this.getForecast();\n        });\n      } else {\n        this.input = [this.currentLocation];\n        this.getForecast();\n      }\n    }\n\n    setUserLocation() {\n      navigator.geolocation.getCurrentPosition(position => {\n        // start and current coordinates are same for update 1\n        this.latitude = position.coords.latitude;\n        this.longitude = position.coords.longitude;\n        this.getForecast();\n      });\n    }\n\n    getForecast() {\n      this.forecastService.getForecast(this.input).subscribe({\n        next: data => {\n          this.forecast = data.forecast.forecastday;\n          this.updateHourlyData(this.forecast[0]);\n        },\n        error: error => {\n          this.showAlert = true;\n          this.alertType = 'error';\n          this.alertMessage = 'Unable to get weather info.';\n        }\n      });\n    }\n\n    updateHourlyData(slide) {\n      setTimeout(() => this.hourlyData.next(slide.hour), 0);\n    }\n\n  }\n\n  WeekForecastComponent.ɵfac = function WeekForecastComponent_Factory(t) {\n    return new (t || WeekForecastComponent)(i0.ɵɵdirectiveInject(i1.ForecastService));\n  };\n\n  WeekForecastComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: WeekForecastComponent,\n    selectors: [[\"app-week-forecast\"]],\n    inputs: {\n      searchText: \"searchText\",\n      tempUnit: \"tempUnit\"\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[\"style\", \"margin: 3rem;margin-top:1rem;\", 4, \"ngIf\"], [2, \"margin\", \"3rem\", \"margin-top\", \"1rem\"], [3, \"options\"], [4, \"ngFor\", \"ngForOf\"], [3, \"hourlyData\", \"tempUnit\"], [\"carouselSlide\", \"\", \"class\", \"slide\", 3, \"width\"], [1, \"smallCard\", 3, \"click\"], [1, \"smallCardHeader\"], [1, \"smallCardBody\"], [1, \"smallCardWeatherIcon\"], [\"width\", \"76px\", \"alt\", \"weather icon\", 1, \"weatherIcon\", 3, \"src\"], [1, \"weatherStatsContainer\"], [1, \"topStats\"], [4, \"ngIf\", \"ngIfThen\", \"ngIfElse\"], [\"fgTemp\", \"\"], [\"cgTemp\", \"\"], [1, \"weatherCondition\"], [1, \"bottomStats\"], [\"fmTemp\", \"\"], [\"cmTemp\", \"\"], [1, \"precipitationContainer\"], [\"title\", \"Precipitation\", 1, \"precipitationDiv\"], [\"src\", \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNiIgaGVpZ2h0PSI4IiB2aWV3Qm94PSIwIDAgNiA4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNNS4yNzM0NCA0LjU1NDY5QzUuNDI0NDggNC44NTE1NiA1LjUgNS4xNjY2NyA1LjUgNS41QzUuNSA1LjcyOTE3IDUuNDcwMDUgNS45NTA1MiA1LjQxMDE2IDYuMTY0MDZDNS4zNTAyNiA2LjM3NzYgNS4yNjU2MiA2LjU3NjgyIDUuMTU2MjUgNi43NjE3MkM1LjA0OTQ4IDYuOTQ2NjEgNC45MTkyNyA3LjExNTg5IDQuNzY1NjIgNy4yNjk1M0M0LjYxNDU4IDcuNDIwNTcgNC40NDY2MSA3LjU1MDc4IDQuMjYxNzIgNy42NjAxNkM0LjA3NjgyIDcuNzY2OTMgMy44Nzc2IDcuODUwMjYgMy42NjQwNiA3LjkxMDE2QzMuNDUwNTIgNy45NzAwNSAzLjIyOTE3IDggMyA4QzIuNzcwODMgOCAyLjU0OTQ4IDcuOTcwMDUgMi4zMzU5NCA3LjkxMDE2QzIuMTIyNCA3Ljg1MDI2IDEuOTIzMTggNy43NjY5MyAxLjczODI4IDcuNjYwMTZDMS41NTMzOSA3LjU1MDc4IDEuMzg0MTEgNy40MjA1NyAxLjIzMDQ3IDcuMjY5NTNDMS4wNzk0MyA3LjExNTg5IDAuOTQ5MjE5IDYuOTQ2NjEgMC44Mzk4NDQgNi43NjE3MkMwLjczMzA3MyA2LjU3NjgyIDAuNjQ5NzQgNi4zNzc2IDAuNTg5ODQ0IDYuMTY0MDZDMC41Mjk5NDggNS45NTA1MiAwLjUgNS43MjkxNyAwLjUgNS41QzAuNSA1LjE2OTI3IDAuNTcyOTE3IDQuODU1NDcgMC43MTg3NSA0LjU1ODU5TDIuOTgwNDcgMEw1LjI3MzQ0IDQuNTU0NjlaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K\", \"alt\", \"Precipitation\", \"aria-label\", \"Precipitation\", \"role\", \"presentation\", 2, \"height\", \"14px\", \"opacity\", \"0.8\"], [\"ftpTemp\", \"\"], [\"ctpTemp\", \"\"], [1, \"tempFormat\"]],\n    template: function WeekForecastComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, WeekForecastComponent_div_0_Template, 7, 4, \"div\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.forecast);\n      }\n    },\n    directives: [i2.NgIf, i3.CarouselComponent, i2.NgForOf, i3.CarouselSlideDirective, i4.HourForecastComponent],\n    pipes: [i2.DatePipe],\n    styles: [\".weatherCard[_ngcontent-%COMP%]{margin:5rem}.links[_ngcontent-%COMP%]{height:38px;display:inline-block;margin:1rem}div[_ngcontent-%COMP%]{display:block}.weatherCard-summary[_ngcontent-%COMP%]{margin-top:-3.5rem;margin-left:4.5rem;font-size:35px;align-items:center;direction:ltr;display:flex}.weatherCard-info[_ngcontent-%COMP%]{margin-top:-3.5rem;align-items:center;margin-left:15rem}.weatherCard-info-1[_ngcontent-%COMP%]{align-items:center;margin-left:15rem}img[_ngcontent-%COMP%]{margin-right:2rem}.info-text[_ngcontent-%COMP%]{font-size:16px;line-height:22px;font-weight:400;margin-top:1.5rem;margin-left:auto}.smallCard[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:100%;border:1px solid #2583f3;border-radius:5px;padding:17px;background-color:#2583f3;cursor:pointer}.smallCardHeader[_ngcontent-%COMP%]{color:#fff;font-weight:600;text-transform:capitalize;color:#fffc;font-size:14px;line-height:20px;margin:0 0 4px}.smallCardBody[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;box-sizing:border-box;padding-left:6px}.smallCardWeatherIcon[_ngcontent-%COMP%]{height:76px;width:76px;margin:0 auto!important}.weatherIcon[_ngcontent-%COMP%]{vertical-align:middle;pointer-events:none}.weatherStatsContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:18px;line-height:24px;text-align:center;color:#fff;margin-left:14px;width:0;flex:1 1 auto}.topStats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin:0 0 6px}.bottomStats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.tempFormat[_ngcontent-%COMP%]{opacity:.8;direction:ltr;font-weight:600;font-size:15px}.weatherCondition[_ngcontent-%COMP%]{text-align:right;font-size:14px;line-height:20px;position:relative;top:1px;opacity:.8;margin-left:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.precipitationContainer[_ngcontent-%COMP%]{display:flex;font-size:12px;line-height:16px;position:relative;top:3px;margin-left:18px;opacity:.8;min-width:0;flex-shrink:1}.precipitationDiv[_ngcontent-%COMP%]{display:flex}.arrow[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;width:0;height:0;margin-left:45%;margin-top:-20px}.arrow-down[_ngcontent-%COMP%]{border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid #2583f3}\"]\n  });\n  return WeekForecastComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}