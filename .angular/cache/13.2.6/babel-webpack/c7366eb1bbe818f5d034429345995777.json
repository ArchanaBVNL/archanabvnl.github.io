{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/forecast.service\";\nimport * as i2 from \"@angular/common\";\n\nfunction AlertsSportsComponent_div_0_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 7)(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const alert_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate4(\" \", alert_r4.event, \" remains effective \", i0.ɵɵpipeBind2(4, 4, alert_r4.effective, \"shortTime\"), \" until \", i0.ɵɵpipeBind2(5, 7, alert_r4.expires, \"shortTime\"), \" in \", alert_r4.headline, \" \");\n  }\n}\n\nfunction AlertsSportsComponent_div_0_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, AlertsSportsComponent_div_0_div_4_div_1_Template, 7, 10, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.alerts);\n  }\n}\n\nfunction AlertsSportsComponent_div_0_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1, \" No weather alerts found for this location at this time. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AlertsSportsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3);\n    i0.ɵɵtext(3, \" WEATHER ALERTS \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AlertsSportsComponent_div_0_div_4_Template, 2, 1, \"div\", 4);\n    i0.ɵɵtemplate(5, AlertsSportsComponent_div_0_div_5_Template, 2, 0, \"div\", 5);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.alerts != undefined && ctx_r0.alerts.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.alerts == undefined || ctx_r0.alerts.length == 0);\n  }\n}\n\nexport let AlertsSportsComponent = /*#__PURE__*/(() => {\n  class AlertsSportsComponent {\n    constructor(forecastService) {\n      this.forecastService = forecastService;\n      this.location = '';\n      this.latitude = 0;\n      this.longitude = 0;\n      this.flag = false;\n      this.input = [];\n      this.currentLocation = '';\n    }\n\n    ngOnInit() {\n      // get the updated searched location as current location\n      this.searchText.subscribe(v => {\n        this.currentLocation = v;\n        this.input = [this.currentLocation]; // get weather forecast for the given location\n\n        this.getForecast();\n      }); // if initial current location is given then find it's coordinates to get the forecast\n\n      if (!this.currentLocation && this.currentLocation !== undefined) {\n        navigator.geolocation.getCurrentPosition(position => {\n          this.latitude = position.coords.latitude;\n          this.longitude = position.coords.longitude;\n          this.input = [this.latitude, this.longitude];\n          this.getForecast();\n        });\n      } else {\n        // else set it to default current location and get it's forecast\n        this.input = [this.currentLocation];\n        this.getForecast();\n      }\n    } // set the user location\n\n\n    setUserLocation() {\n      navigator.geolocation.getCurrentPosition(position => {\n        this.latitude = position.coords.latitude;\n        this.longitude = position.coords.longitude;\n        this.getForecast();\n      });\n    } // get the forecast for the given user location\n\n\n    getForecast() {\n      this.forecastService.getForecast(this.input).subscribe({\n        next: data => {\n          // check if there are any weather alerts for given location \n          if (data.alerts !== undefined && data.alerts.alert !== undefined) {\n            this.alerts = data.alerts.alert;\n          }\n        },\n        error: error => {\n          console.log('Unable to get weather alert information. ', error);\n        }\n      });\n    }\n\n  }\n\n  AlertsSportsComponent.ɵfac = function AlertsSportsComponent_Factory(t) {\n    return new (t || AlertsSportsComponent)(i0.ɵɵdirectiveInject(i1.ForecastService));\n  };\n\n  AlertsSportsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AlertsSportsComponent,\n    selectors: [[\"app-alerts-sports\"]],\n    inputs: {\n      searchText: \"searchText\"\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"weatherCard\", 4, \"ngIf\"], [1, \"weatherCard\"], [1, \"weatherCard-body\"], [1, \"location-info\"], [4, \"ngIf\"], [\"style\", \"padding: 20px; font-size: 16px;\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [2, \"padding\", \"10px\"], [2, \"padding\", \"20px\", \"font-size\", \"16px\"]],\n    template: function AlertsSportsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AlertsSportsComponent_div_0_Template, 6, 2, \"div\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.alerts != undefined);\n      }\n    },\n    directives: [i2.NgIf, i2.NgForOf],\n    pipes: [i2.DatePipe],\n    styles: [\".weatherCard[_ngcontent-%COMP%]{margin-right:3rem;margin-top:2rem;margin-left:-55px}.links[_ngcontent-%COMP%]{height:38px;display:inline-block;margin:1rem}div[_ngcontent-%COMP%]{display:block}.weatherCard-body[_ngcontent-%COMP%]{border:1px solid #dd6c6c;border-radius:5px;padding:17px;background-color:#dd6c6c;min-height:238px;max-height:238px;scroll-behavior:smooth;overflow:hidden;overflow-y:scroll}.weatherCard-summary[_ngcontent-%COMP%]{margin-top:-3.5rem;margin-left:4.5rem;font-size:35px;align-items:center;direction:ltr;display:flex}.weatherCard-info[_ngcontent-%COMP%]{margin-top:-3.5rem;align-items:center;margin-left:15rem}.weatherCard-info-1[_ngcontent-%COMP%]{align-items:center;margin-left:15rem}img[_ngcontent-%COMP%]{margin-right:2rem}.info-text[_ngcontent-%COMP%]{font-size:16px;line-height:22px;font-weight:400;margin-top:.5rem;margin-left:auto}.carousel-item-line[_ngcontent-%COMP%]{font-size:16px}.carousel-item[_ngcontent-%COMP%]{padding:20px;margin-left:59px;width:82%;margin-top:43px}.slide[_ngcontent-%COMP%]{min-height:175px}\"]\n  });\n  return AlertsSportsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}